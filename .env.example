# Argus Sensor Configuration
# Copy this file to .env and customize

# Network interface to capture from
INTERFACE=ens160

# TCP stream port (default: 561)
PORT=561

# File rotation interval
# Options: 1h, 6h, 12h, 1d (default), 1w
ROTATION_INTERVAL=1d

# Enrichment (country codes, ASN via radium + ralabel.conf)
# yes: Enrich flows with GeoIP data (REQUIRES running ./download-geoip.sh first)
# no: Primitive flows only
ENABLE_ENRICHMENT=yes

# IMPORTANT: Before enabling enrichment, download GeoIP databases:
#   export MAXMIND_LICENSE_KEY='your_key'
#   ./download-geoip.sh
# This populates geoip-data/ with delegated-ipv4-latest and GeoLite2-ASN.mmdb

# InfluxDB pipeline for real-time dashboards
# yes: Enable rastrip → racluster → rabins → InfluxDB
# no: Only files for batch ML
ENABLE_INFLUXDB=no

# Aggregation interval for InfluxDB (reduces cardinality)
# Options: 30s, 1m, 5m, 15m, 1h
AGGREGATION_INTERVAL=1m

# Archive retention defaults (used by cleanup-archives.sh)
RETENTION_DAYS=90
COMPRESS=yes
COMPRESS_AFTER_DAYS=2

# Optional ML pipeline defaults (used by scripts/run-ml-pipeline.sh)
SITE=dc1
FEATURE_OUTPUT_ROOT=argus-data/l2_features
SCORE_OUTPUT_ROOT=argus-data/shadowit_scores
WINDOW=5m
FEATURE_VERSION=shadowit-v1
MODEL_VERSION=shadowit-v1
MODEL_CONFIG=config/shadowit-model-v1.json
CLOUD_ASN_FILE=config/cloud_asns.example.txt
PUBLISH_SCORE_TO_INFLUX=no
PUBLISH_FEATURES_TOP=yes
ONLY_ANOMALIES=no

# Influx write target for shadowit_score (used when PUBLISH_SCORE_TO_INFLUX=yes)
# INFLUXDB_URL=http://localhost:8086
# INFLUXDB_ORG=your-org
# INFLUXDB_BUCKET_SHADOWIT=argus-shadowit
# INFLUXDB_TOKEN=your-token

# MaxMind GeoLite2 License Key (optional, for enrichment)
# Get free key at: https://www.maxmind.com/en/geolite2/signup
# MAXMIND_LICENSE_KEY=your_license_key_here
